
é‡æ–°æ„å»ºdocker
```shell
docker compose --project-name traefik \
  --env-file gitops/traefik.env \
  -f overrides/compose.traefik.yaml up -d --build
```

å¦‚æœè¦åœ¨å…¬ç½‘éƒ¨ç½²https
```shell
docker compose --project-name traefik \
  --env-file gitops/traefik.env \
  -f overrides/compose.traefik.yaml \
  -f overrides/compose.traefik-ssl.yaml up -d --build
```

å½»åº•åˆ é™¤
```shell
docker compose --project-name traefik \
  --env-file gitops/traefik.env \
  -f overrides/compose.traefik.yaml down --volumes --remove-orphans
```

å¦‚æœæ˜¯æƒ³ä¿®æ”¹æ•°æ®åº“rootè´¦å·å¯†ç ï¼Œéœ€è¦æŠŠåŸæ¥çš„å·åˆ é™¤ï¼Œä¸ç„¶å¯†ç ä¸ç”Ÿæ•ˆğŸ‘‡
```shell
docker compose --project-name mariadb --env-file gitops/mariadb.env -f overrides/compose.mariadb-shared.yaml down --volumes --remove-orphans
```

åˆ é™¤å®¹å™¨
```shell
docker compose --project-name amtf-cs1 -f gitops/amtf-cs1.yaml down
```
åˆ é™¤å®¹å™¨ã€å·å’Œå­¤ç«‹æœåŠ¡
```shell
docker compose --project-name amtf-cs1 -f gitops/amtf-cs1.yaml down --volumes --remove-orphans
```

```shell
docker compose --project-name amtf-cs-yy -f gitops/amtf-cs-yy.yaml down --volumes --remove-orphans
```

```shell
docker compose --project-name amtf-cs1 -f gitops/amtf-cs1.yaml up -d
```
```shell
docker compose --project-name amtf-cs1 -f gitops/amtf-cs1.yaml up -d --build
```

åˆ é™¤ç«™ç‚¹
```shell
docker compose --project-name amtf-cs1 exec backend \
  bench drop-site --mariadb-root-password db123 cs1.amtf.com --force
```

å¦‚æœè¦åœ¨å…¬ç½‘éƒ¨ç½²https
```shell
docker compose --project-name amtf-cs1 \
  --env-file gitops/amtf-cs1.env \
  -f compose.yaml \
  -f overrides/compose.redis.yaml \
  -f overrides/compose.multi-bench.yaml \
  -f overrides/compose.multi-bench-ssl.yaml config > gitops/amtf-cs1.yaml
```


## æ„å»ºé•œåƒ
æ„å»ºåŸºç¡€é•œåƒ
>æŠŠç³»ç»ŸåŸºç¡€ç¯å¢ƒè¿™å—ï¼Œéœ€è¦è¿æ¥å¤–å›½ç½‘ä½†æ˜¯åˆä¸å¤ªæ–¹ä¾¿è¿çš„éƒ¨åˆ†ç‹¬ç«‹å‡ºæ¥

```shell
docker build \
  -t=amtf-frappe15-base \
  --file=images/custom/frappe15-base .
```

### ä¸ºå·²æœ‰é•œåƒæ‰“ä¸Šæ–°æ ‡ç­¾
docker tag amtf-frappe15-base amtf-frappe15-base:v1.0

### åˆ é™¤æ—§æ ‡ç­¾
docker rmi amtf-frappe15-base


æ ‡è®°é•œåƒ
```shell
docker tag amtf-frappe15-base:v1.0 amtflaoyu/amtf-frappe15-base:v1.0
```
æ¨é€
```shell
docker push amtflaoyu/amtf-frappe15-base:v1.0
```


```shell
export APPS_JSON_BASE64=$(base64 -w 0 resources/apps.json)
docker build \
  --build-arg=APPS_JSON_BASE64=$APPS_JSON_BASE64 \
  -t=amtf-frappe15:v1.0 \
  --file=images/custom/frappe15 .
```

### --no-cache
```shell
export APPS_JSON_BASE64=$(base64 -w 0 resources/apps.json)
docker build --no-cache \
  --build-arg=APPS_JSON_BASE64=$APPS_JSON_BASE64 \
  -t=amtf-frappe15:v1 \
  --file=images/custom/Dockerfile-frappe15v1 .
```

## å…¶ä»–
```shell
docker build \
  -t=amtf-cs-jx-base \
  --file=images/custom/cs-base .
```
```shell
docker run -d --name amtf-cs-rq1 amtf-cs-jx-base
```
```shell
docker rm amtf-cs-rq1
```
```shell
docker rmi amtf-cs-jx-base
```


```shell
docker build \
  -t=amtf-cs-jx-base2 \
  --file=images/custom/cs-base2 .
```
```shell
docker run -d --name amtf-cs-rq2 amtf-cs-jx-base2
```
è¿›å…¥å®¹å™¨
```shell
docker exec -it amtf-cs-rq2 bash
```
```shell
nginx-entrypoint.sh
```
```shell
docker stop amtf-cs-rq2
```
```shell
docker rm amtf-cs-rq2
```
```shell
docker rmi amtf-cs-jx-base2
```


```shell
export APPS_JSON='[
  {
    "url": "https://github.com/frappe/erpnext",
    "branch": "version-15"
  }
]'
export APPS_JSON_BASE64=$(echo ${APPS_JSON} | base64 -w 0)
docker build --no-cache\
  --build-arg=APPS_JSON_BASE64=$APPS_JSON_BASE64 \
  -t=amtf-cs-jx-base3 \
  --file=images/custom/cs-base3 .
```

```shell
docker run -d --name amtf-cs-rq3 amtf-cs-jx-base3
```
```shell
docker rm amtf-cs-rq3
```

```shell
docker build --no-cache\
  -t=amtf-cs-jx-base4 \
  --file=images/custom/cs-base4 .
```
```shell
docker build \
  -t=amtf-cs-jx-base4 \
  --file=images/custom/cs-base4 .
```
```shell
docker run -d --name amtf-cs-rq4 amtf-cs-jx-base4
```
è¿›å…¥å®¹å™¨
```shell
docker exec -it amtf-cs-rq4 bash
```
```shell
nginx-entrypoint.sh
```
```shell
docker rm amtf-cs-rq2
```
```shell
docker rmi amtf-cs-jx-base2
```


```shell
docker run -d --name amtf-rq-frappe15v1 frappe15v1
```

```shell
export APPS_JSON='[
  {
    "url": "https://gitee.com/mirrors/erpnext",
    "branch": "version-15"
  }
]'
export APPS_JSON_BASE64=$(echo ${APPS_JSON} | base64 -w 0)
docker build \
  --build-arg=APPS_JSON_BASE64=$APPS_JSON_BASE64 \
  -t=frappe15v1 \
  --file=images/custom/Dockerfile-frappe15v1 .
```
